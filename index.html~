<html>
<head>
<style>
	.centertitulo {
	  text-align:center;
	  margin: 20;
	}
	.centerimage {
	  display: block;
	  margin-left: auto;
	  margin-right: auto;
	  width: 60%;
	}

	.center {
	  margin-left: auto;
	  margin-right: auto;
	}

	#customers {
	  font-family: Arial, Helvetica, sans-serif;
	  border-collapse: collapse;
	}

	#customers td, #customers th {
	  border: 1px solid #ddd;
	  padding: 8px;
	}

	#customers tr:nth-child(even){background-color: #f2f2f2;}

	#customers tr:hover {background-color: #ddd;}

	#customers th {
	  padding-top: 12px;
	  padding-bottom: 12px;
	  text-align: left;
	  background-color: #04AA6D;
	  color: white;
	}
</style>
</head>
<body style="margin:30;padding:30">
<h1 class="centertitulo">A change-centric technique to DETECT and FIX weaknesses in Configurable Systems</h2>

<h3>Abstract</h3>
<p align="justify">
Configurable systems developed in C use #ifdef directives to deal with variability and portability. Developing and evolving highly configurable systems is a complex task because developers need to deal with many configurations at the same time and weaknesses can be easily added and difficult to detect since some weaknesses belong to only a few specific configurations. This process makes the task of detecting and fixing weaknesses even more challenging because most static analysis tools are not variability-aware. In addition, to the best of our knowledge, there is a lack of studies that analyze how to automate the process of fixing weaknesses in configurable systems. We study two types of weaknesses (Null Pointer Dereference and Memory Leak) and observe a pattern used by many developers to fix them. In this work, we propose a change-centric technique to detect and fix weaknesses in configurable systems. We evaluate our proposal in 14 open projects available in the GitHub repository. To confirm the weaknesses detected and fixed, we send 12 pull requests to fix 65 Null Pointer Dereference and 5 Memory Leak. So far, experts analyzed 6 pull requests and confirmed all weaknesses reported in these patches (27 Null Pointer Dereference and 5 Memory Leak). The other pull requests are still open waiting for the developers to evaluate.
</p>
<br></br>
<img class="centerimage" src="technique.jpeg">

<table id="customers" class="center">
<caption> Table 1 - Summary of pull requests to fix compilation errors.</caption> 
<thead>
  <tr>
    <th>Projec</th>
    <th>File</th>
    <th>Compilation error</th>
    <th>Pull request</th>
  </tr>
</thead>
<tbody>
  <tr>
    <td>LIbGD</td>
    <td>gdcache.c</td>
    <td>First argument of 'main' should be 'int'</td>
    <td>Accepted</td>
  </tr>
  <tr>
    <td>LIbGD</td>
    <td>gdcache.c</td>
    <td>Second argument of 'main' should be char **</td>
    <td>Accepted</td>
  </tr>
  <tr>
    <td>LIbGD</td>
    <td></td>
    <td>Too few argument to function</td>
    <td>Accepted</td>
  </tr>
  <tr>
    <td>FreeTDS</td>
    <td>2</td>
    <td>Natural language text that should be a comment</td>
    <td><a href="https://github.com/FreeTDS/freetds/pull/358">Accepted</a></td>
  </tr>
</tbody>
</table>

<br></br><br></br>


<table id="customers" class="center">
<caption> Table 2 - Summary of pull requests to fix weaknesses.</caption> 
<thead>
  <tr>
    <th>Project</th>
    <th>Weaknesses</th>
    <th>Pull request</th>
  </tr>
</thead>
<tbody>
  <tr>
    <td>Expat</td>
    <td></td>
    <td><a href="https://github.com/libexpat/libexpat/pull/406">Accepted</a></td>
  </tr>
  <tr>
    <td>Git</td>
    <td></td>
    <td><a href="https://github.com/git/git/pull/983">Accepted</a></td>
  </tr>
  <tr>
    <td>LZ4</td>
    <td></td>
    <td><a href="https://github.com/lz4/lz4/pull/973">Accepted</a></td>
  </tr>
  <tr>
    <td>Masscan</td>
    <td></td>
    <td><a href="https://github.com/robertdavidgraham/masscan/pull/580">Accepted</a></td>
  </tr>
  <tr>
    <td>FreeTDS</td>
    <td></td>
    <td><a href="https://github.com/FreeTDS/freetds/pull/354">Accepted</a></td>
  </tr>
  <tr>
    <td>MemCached</td>
    <td></td>
    <td><a href="https://github.com/memcached/memcached/pull/769">Accepted</a></td>
  </tr>
  <tr>
    <td>Nanomsg</td>
    <td></td>
    <td><a href="https://github.com/nanomsg/nanomsg/pull/1062">Open</a></td>
  </tr>
  <tr>
    <td>Dynomite</td>
    <td></td>
    <td><a href="https://github.com/Netflix/dynomite/pull/791">Accepted</a></td>
  </tr>
  <tr>
    <td>Dial-reference</td>
    <td></td>
    <td><a href="https://github.com/Netflix/dial-reference/pull/42">Open</a></td>
  </tr>
  <tr>
    <td>Libsmbios</td>
    <td></td>
    <td><a href="https://github.com/dell/libsmbios/pull/96">Open</a></td>
  </tr>
  <tr>
    <td>Tig</td>
    <td></td>
    <td><a href="https://github.com/jonas/tig/pull/1096">Open</a></td>
  </tr>
  <tr>
    <td>FVWM3</td>
    <td></td>
    <td>Open</td>
  </tr>
  <tr>
    <td>Openlldp</td>
    <td></td>
    <td><a href="https://github.com/intel/openlldp/pull/72">Accepted</a></td>
  </tr>
</tbody>
</table>
<br></br><br></br>

<table id="customers"  class="center" >
<caption> Table 3 - Details of when weaknesses were added and fixed.</caption> 
<thead>
  <tr>
    <th colspan="4" style="text-align:center">DYNOMITE (Netflix)</th>
  </tr>
</thead>
<tbody>
  <tr>
    <th colspan="4" style="text-align:center">When the weaknesses were added</th>
  </tr>
  <tr>
    <td>Weaknesses before</td>
    <td>Weaknesses after</td>
    <td>Weaknesses diff</td>
    <td>Date</td>
  </tr>
  <tr>
    <td><a href="files/dynomite/v1-dba3e20147648fb0319310d04643516309b46cef.csv">0</a></td>
    <td><a href="files/dynomite/v1-f2e1157ad28dc8558014edd8001b4480f8c10dc2.csv">2</a></td>
    <td><a href="files/dynomite/v1-diff-f2e1157ad28dc8558014edd8001b4480f8c10dc2-dba3e20147648fb0319310d04643516309b46cef.csv">2</a></td>
    <td><a href="https://github.com/Netflix/dynomite/pull/791">2015/03/23</a></td>
  </tr>
  <tr>
    <th colspan="4" style="text-align:center">When the weaknesses were fixed</th>
  </tr>
  <tr>
    <td>Weaknesses before</td>
    <td>Weaknesses after</td>
    <td>Weaknesses diff</td>
    <td>Pull request</td>
  </tr>
  <tr>
    <td><a href="files/dynomite/v1-b52916d24822830e0f8d27c4b59f8e0a4d89fc9e.csv">2</a></td>
    <td><a href="files/dynomite/v1-b56cf6a0e51a3c1941359da44af9e432c64b2f90.csv">2</a></td>
    <td><a href="files/dynomite/v1-diff-b56cf6a0e51a3c1941359da44af9e432c64b2f90-b52916d24822830e0f8d27c4b59f8e0a4d89fc9e.csv">0</a></td>
    <td><a href="https://github.com/Netflix/dynomite/pull/791">Accepted</a></td>
  </tr>
</tbody>
</table>
</body>
</html>
